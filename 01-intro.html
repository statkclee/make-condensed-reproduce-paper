<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <title>Software Carpentry: Automating Tasks with Make</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="stylesheet" href="css/bootstrap/bootstrap.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/bootstrap/bootstrap-responsive.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="banner">
        <a href="http://software-carpentry.org" title="Software Carpentry">
          <img alt="Software Carpentry banner" src="img/software-carpentry-banner.png" />
        </a>
      </div>
      <div class="row-fluid">
        <div class="span10 offset1">
          <h1 class="title">Automating Tasks with Make</h1>
          <h2 class="subtitle">Introduction</h2>
<div id="learning-objectives" class="objectives objectives">
<h2>Learning Objectives</h2>
<ul>
<li>Learning objective 1</li>
<li>Learning objective 2</li>
</ul>
</div>
<p>Here's a typical working day for our robot. The first thing it wants to do when it sits down in the morning is re-draw Figure 8 for the paper it's writing. In order to do that, it needs to re-calculate the data (since it has some new numbers from a colleague back home). In order to do <em>that</em>, it needs to recompile its statistics program, because it found and fixed a bug yesterday afternoon. Oh, and it needs to update the version of Java installed on the machine it's using: it has the right one on its laptop, but not on the machine it's using in the lab. And it needs to re-install the graph-drawing tool that turns its data into a nicely-formatted chart suitable for publication. That also requires a Java update, and it'll have to free up some disk space, too, since <em>someone</em>'s MP3 collection is taking up 99.8% of available space.</p>
<p>And so it goes: everything it wants to do seems to require something else to be done first. Until eventually, it finds himiself saying, &quot;Right, so I need to shave the yak...&quot; We won't go that far with him, though --- not today.</p>
<p>Instead, here's that set of jobs once again. We can think of this set as a graph. The things he needs to do are the graph's nodes. The <strong>dependencies</strong> between the tasks are the graph's edges. Since the robot can only do one thing at a time, it needs to find an ordering on these tasks such that everything a given task depends on is done before it.</p>
<p>This pattern arises over and over again. Each time we collect new data, we need to recalculate our summary statistics. Each time our source files change, we need to recompile our program (if, that is, we're using a compiled language like Java, C++, or Fortran). And when someone writes a new paper, or receives an award, we need to update our research group's web site. If there are more than a dozen or so tasks, it can be hard or impossible to manually keep track of what depends on what, and what is up-to-date and what isn't, i.e., what's been done and what still needs to be done.</p>
<p>This is where tools like Make come in. One of the fundametal rules of computing is that anything worth repeating is worth automating. If we need to do the same tasks over and over again, we should use a <strong>build manager</strong> to handle the details.</p>
<p>We describe dependencies in a <strong>build file</strong>, which is usually just a plain text file in some specialized format. We also describe how to update things, i.e., what commands to run when something's dependencies have been satisfied and it's ready to be refreshed itself. And that's all: the build manager handles everything else. In particular, it keeps track of what's up to date, and what's ready to be updated.</p>
<p>The most widely used build manager on Unix and its derivatives is called Make. And note that we said &quot;most widely used&quot;, not &quot;most popular&quot;. It was invented by a summer intern at Bell Labs in 1975. (He went on to become a vice president at IBM and Google, which shows you how far a good program can take you.) Over 35 years, Make has grown into a little programming language. It is a cryptic language, with no debugger, whose syntactical conventions and naming schemes only make sense to those familiar with the long history of the Unix operating system.</p>
<p>The good news is, <a href="http://www.gnu.org/software/make/">GNU Make</a> (the de facto standard version of Make) is fast, free, and well-documented. And many other tools know how to work with Make. In particular, many integrated development environments can manage Make's build files more or less automatically, sparing developers from having to deal with its cryptic syntax.</p>
<p>In this chapter, we'll look at Make's basic features, and a few of its advanced facilities as well. A companion lecture to this one explores a newer build manager called <a href="http://www.scons.org/">SCons</a>. It is more powerful and more flexible than Make, but isn't nearly as widely used (yet). Java users should also look at <a href="http://ant.apache.org/">Apache Ant</a>, the standard build manager for Java. It hides many of the platform-specific details that bedevil Make, but requires users to write XML files to get things done.</p>
<div id="fixme" class="challenge">
<h2>FIXME</h2>
<p>FIXME</p>
</div>
        </div>
      </div>
      <div class="footer">
        <a class="label swc-blue-bg" href="mailto:admin@software-carpentry.org">Email</a>
        <a class="label swc-blue-bg" href="http://github.com/swcarpentry">GitHub</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
        <a class="bugreport label swc-blue-bg" href="mailto:admin@software-carpentry.org?subject=bug%20in%20{{page.path}}">Bug Report</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="http://software-carpentry.org/v5/js/jquery-1.9.1.min.js"></script>
    <script src="http://software-carpentry.org/v5/js/bootstrap/bootstrap.min.js"></script>
  </body>
</html>
